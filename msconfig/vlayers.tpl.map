MAP
    # the following two lines tell MapServer to write debugging output to a log file.  Remove the '#' from the beginning
    # of the two lines below to enable this logging:
    #CONFIG "MS_ERRORFILE" "../var/log/vlayers.log"
    #DEBUG 5

    # all temp files get prefixed with this string
    NAME ms_vlayers

    #jdm:added to accomodate map layers
    #see http://trac.osgeo.org/mapserver/ticket/3055
    MAXSIZE 3072 
    
    # background color of image if transparency
    # is not requested
    IMAGECOLOR 255 255 255

    # default output image dimensions
    SIZE 600 400

    # always returns a map
    STATUS ON

    # set top level projection
    PROJECTION
        "init=epsg:3785"
    END

    # image format options
    OUTPUTFORMAT
        NAME "PNG"
        DRIVER "GDAL/PNG"
        MIMETYPE "image/png"
        IMAGEMODE "RGB"
        EXTENSION "png"
    END

    # minx miny maxx maxy
    EXTENT    -124.733174 24.543940 -66.950005 49.384359 # US

    # add def pointers for symbols
    SYMBOLSET "./symbols/symbols35.sym"
    FONTSET   "./fonts/fonts.list"

    # Start of web interface definition
    WEB

        # this is the real filepath to the temp dir for intermediate file creation
        IMAGEPATH "./tmp"

        # this is the web-accessible path to IMAGEPATH
        IMAGEURL "/tmp/"

        HEADER "./templates/query_header.html"
        FOOTER "./templates/query_footer.html"

        METADATA
            "ows_enable_request"     "*"
            "wms_title"              "NEMAC vlayers WMS"
            "wms_abstract"           "NEMAC vlayers WMS"
            "wms_onlineresource"     "%(SERVICE_URL)s"
            "wms_srs"                "EPSG:3785 EPSG:4326 EPSG:900913"
        END
    END

    QUERYMAP
        STATUS OFF
    END

    # set defaults for GetLegendGraphic requests 
    LEGEND
        KEYSIZE 30 20
    END

	#Built Section------------------------------------------------------------
    LAYER # 
        NAME abandoned_railroads
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from abandoned_railroads"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             LINE
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "abandoned_railroads"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 0 0 
            END
        END		
        METADATA
            "wms_title"          "abandoned_railroads"
            "wms_abstract"       "abandoned_railroads"
            "gml_include_items"  "all"
        END  # end METADATA
    END # 
    LAYER # 
        NAME airports
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from airports"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POINT
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "airports"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 0 0 
            END
        END		
        METADATA
            "wms_title"          "airports"
            "wms_abstract"       "airports"
            "gml_include_items"  "all"
        END  # end METADATA
    END # 	
    LAYER # 
        NAME appalachian_trail
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from appalachian_trail"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             LINE
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "appalachian_trail"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 255 102 
            END
        END		
        METADATA
            "wms_title"          "appalachian_trail"
            "wms_abstract"       "appalachian_trail"
            "gml_include_items"  "all"
        END  # end METADATA
    END #	
    LAYER # 
        NAME appalachian_trail_parking
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from appalachian_trail_parking"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POINT
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "appalachian_trail_parking"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 255 102 
            END
        END		
        METADATA
            "wms_title"          "appalachian_trail_parking"
            "wms_abstract"       "appalachian_trail_parking"
            "gml_include_items"  "all"
        END  # end METADATA
    END #	
    LAYER # 
        NAME appalachian_trail_shelters
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from appalachian_trail_shelters"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POINT
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "appalachian_trail_shelters"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 255 102 
            END
        END		
        METADATA
            "wms_title"          "appalachian_trail_shelters"
            "wms_abstract"       "appalachian_trail_shelters"
            "gml_include_items"  "all"
        END  # end METADATA
    END #	
    LAYER # 
        NAME blue_ridge_parkway
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from blue_ridge_parkway"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             LINE
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "blue_ridge_parkway"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 0 0  
            END
        END		
        METADATA
            "wms_title"          "blue_ridge_parkway"
            "wms_abstract"       "blue_ridge_parkway"
            "gml_include_items"  "all"
        END  # end METADATA
    END #		
    LAYER # 
        NAME dams_all
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from dams_all"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POINT
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "dams_all"
            STYLE
                #SYMBOL 'circle'
                #SIZE 5
                COLOR 255 0 0  
            END
        END		
        METADATA
            "wms_title"          "dams_all"
            "wms_abstract"       "dams_all"
            "gml_include_items"  "all"
        END  # end METADATA
    END #			

    #Natural Section------------------------------------------------------------
    LAYER # 
        NAME eastern_continental_divide
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from eastern_continental_divide"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             LINE
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "eastern_continental_divide"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "eastern_continental_divide"
            "wms_abstract"         "eastern_continental_divide"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME floodplains_500yr
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from floodplains_500yr"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "floodplains_500yr"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "floodplains_500yr"
            "wms_abstract"         "floodplains_500yr"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME geologic_faults
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from geologic_faults"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "geologic_faults"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "geologic_faults"
            "wms_abstract"         "geologic_faults"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME geology
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from geology"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "geology"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "geology"
            "wms_abstract"         "geology"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME hqw_orw
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from hqw_orw"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "hqw_orw"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "hqw_orw"
            "wms_abstract"         "hqw_orw"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME landslide_locations
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from landslide_locations"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "landslide_locations"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "landslide_locations"
            "wms_abstract"         "landslide_locations"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME major_lakes
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from major_lakes"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "major_lakes"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "major_lakes"
            "wms_abstract"         "major_lakes"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME major_rivers
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from major_rivers"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             LINE
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "major_rivers"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "major_rivers"
            "wms_abstract"         "major_rivers"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME managed_areas
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from managed_areas"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "managed_areas"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "managed_areas"
            "wms_abstract"         "managed_areas"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME significant_natural_heritage_areas
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from significant_natural_heritage_areas"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "significant_natural_heritage_areas"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "significant_natural_heritage_areas"
            "wms_abstract"         "significant_natural_heritage_areas"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME streams_24k
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from streams_24k"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             LINE
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "streams_24k"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "streams_24k"
            "wms_abstract"         "streams_24k"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME waterbodies
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from waterbodies"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "waterbodies"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "waterbodies"
            "wms_abstract"         "waterbodies"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME watersheds_12digit
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from watersheds_12digit"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "watersheds_12digit"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "watersheds_12digit"
            "wms_abstract"         "watersheds_12digit"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME watersheds_8digit
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from watersheds_8digit"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "watersheds_8digit"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "watersheds_8digit"
            "wms_abstract"         "watersheds_8digit"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME watersheds_ws
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from watersheds_ws"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "watersheds_ws"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "watersheds_ws"
            "wms_abstract"         "watersheds_ws"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer
    
    LAYER # 
        NAME wetlands
        PROJECTION
            "init=epsg:4326"
        END
        CONNECTIONTYPE   postgis
        CONNECTION       "%(POSTGIS_CONNECTION_STRING)s"
        DATA             "the_geom from wetlands"
        EXTENT           -124.733174 24.543940 -66.950005 49.384359 # US
        STATUS           OFF
        TYPE             POLYGON
        DUMP             TRUE
        HEADER           ./templates/layer_query_header.html
        TEMPLATE         ./templates/layer_query_body.html
        CLASS
            NAME "wetlands"
            STYLE
                #COLOR        232 232 232
                OUTLINECOLOR 0 0 0 
            END
        END
        METADATA
            "wms_title"            "wetlands"
            "wms_abstract"         "wetlands"
            "gml_include_items"    "all"
        END  # end METADATA
    END # end Layer	


END